---
applications:
  - name: notifications-api-((env))
    buildpack: https://github.com/cloudfoundry/python-buildpack.git#v1.7.58
    instances: 1
    memory: 1G
    disk_quota: 1G
    health-check-type: process
    health-check-invocation-timeout: 1
    routes:
    - route: notifications-api.app.cloud.gov

    services:
      - notifications-api-rds-((env))
      - notifications-api-redis-((env))
      - notifications-api-csv-upload-bucket-((env))
      - notifications-api-contact-list-bucket-((env))

    env:
      NOTIFY_APP_NAME: api
      NOTIFY_LOG_PATH: /home/vcap/logs/app.log
      FLASK_APP: application.py
      FLASK_ENV: production
      DEPLOY_ENV: ((env))

      NOTIFY_ENVIRONMENT: live
      API_HOST_NAME: https://notifications-api.app.cloud.gov
      ADMIN_BASE_URL: https://notifications-admin.app.cloud.gov
      NOTIFICATION_QUEUE_PREFIX: prototype_10x
      STATSD_HOST: localhost

      # Credentials variables
      INTERNAL_CLIENT_API_KEYS: '{"notify-admin":["((ADMIN_CLIENT_SECRET))"]}'
      ADMIN_CLIENT_SECRET: ((ADMIN_CLIENT_SECRET))
      DANGEROUS_SALT: ((DANGEROUS_SALT))
      SECRET_KEY: ((SECRET_KEY))
      AWS_ACCESS_KEY_ID: ((AWS_ACCESS_KEY_ID))
      AWS_SECRET_ACCESS_KEY: ((AWS_SECRET_ACCESS_KEY))
      AWS_REGION: us-west-2
      AWS_PINPOINT_REGION: us-west-2
      AWS_US_TOLL_FREE_NUMBER: +18446120782

      DVLA_EMAIL_ADDRESSES: []
